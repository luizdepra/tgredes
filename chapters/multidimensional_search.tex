\chapter{Pesquisa Multidimensional}

    Em ciência da computação, algoritmo de pesquisa é aquele que toma um problema como entrada e retorna uma solução para este, depois de avaliar várias soluções possíveis. O conjunto formado por todas as soluções possíveis é chamado espaço de busca. Com o conhecimento prévio da estrutura de dados é possível restringir o espaço de busca utilizado, economizando tempo para achar a solução.

	Objetos multidimensionais ou multi-chaves como pontos, linhas, retângulos, regiões, volumes e poliedros podem ser representados por seu conjunto de atributos e por suas posições no espaço Euclidiano \cite{andreas}. Estruturas de dados multidimensionais ou espaciais indexam e dão suporte a objetos multi-atributos ou multi-chaves. Estas estruturas de dados são comumente conhecidas como métodos de acesso multidimensional \cite{gaede}. A procura de elementos através de chaves compostas é dita pesquisa multidimensional \cite{gonnet}.

    Esta seção começa com uma revisão de árvores binárias (seção \ref{binarias}), a qual será necessária para o entendimento das estruturas de dados multidimensionais. Logo depois serão apresentadas em detalhes a árvore \textit{K-D} (seção \ref{kd}) e árvore \textit{K-D-B} (seção \ref{kdb}), assim como o banco de dados \textit{MySQL} (seção \ref{mysql}).

\section{Árvores Binárias}
\label{binarias}
	
\begin{figure}[H]
\begin{center}
\includegraphics[scale=0.25]{images/binary.jpg}
\caption{Árvore de busca binária.} 
\end{center}
\end{figure}

    As árvores binárias são estruturas de dados compostas por nós que possuem no máximo dois filhos. O primeiro nó é chamado de raiz, e os nós filhos são chamados de esquerda e direita em relação ao nó em questão. Em uma árvore binária de busca cada nó possui uma chave distinta. Além disso, a sub-árvore à esquerda de um nó qualquer $n$ contém somente elementos com chave menores, e a sub-árvore à direita de $n$ contém elementos com chave maiores\cite{gilberg}. A maior vantagem de utilizar árvores binárias está relacionada a ordenação e procura de elementos que são muito eficientes.

\section{Árvores \textit{K-D}}
\label{kd}

	A árvore \textit{K-D} \cite{andreas, bentley, bentley2} é uma estrutura de dados semelhante à árvore binária, mas que difere principalmente no número de elementos por nó e na forma de organização. Em uma árvore \textit{K-D}, cada nó tem $K$ atributos que representam as coordenadas de um ponto no espaço de $K$ dimensões. A hierarquia é feita através das relações menor que maior ou igual que, assim como na árvore binária. A diferença está na utilização de um elemento de comparação diferente da chave em cada nível.

    Considerando pontos em um espaço de $K$ dimensões, a sua representação na árvore \textit{K-D} será feita por nós de $K$ elementos em arranjo (exemplo: $a,b,c,...$), numerados de $0 ... K-1$. Uma árvore enraizada por um nó com os valores (exemplo: $i,j,k,...$) tem como sua sub-árvore a esquerda todos os pontos com $a < i$ e a direita, pontos com $a >= i$. No próximo nível, a comparação é feita da mesma forma, mas com o próximo elemento da chave, no caso $b$. Ou seja, no nível $L$, o elemento da chave que é usado na comparação é o da posição $L\ mod (K+1)$.

\begin{figure}[H]
\begin{center}
\includegraphics[scale=0.3]{images/kd.jpg}
\caption{Árvore \textit{K-D}.} 
\end{center}
\end{figure}
	
	A principal desvantagem da árvore \textit{K-D} é o desbalanceamento causado pela inserção de elementos. A árvore \textit{K-D adaptativa} \cite{bentley3} resolve o problema do desbalanceamento fazendo uma divisão mais igualitária possível de elementos entre cada região. Os nós internos armazenam a coordenada de divisão do plano, sendo que nós folhas contém a informação.

\begin{figure}[H]
\begin{center}
\includegraphics[scale=0.5]{images/kd_adaptative.jpg}
\caption{Árvore \textit{K-D adaptativa}. O hiperplano não é definido pela coordenada do plano.} 
\end{center}
\end{figure}

\section{Árvores \textit{K-D-B}}
\label{kdb}

	A árvores \textit{K-D-B} são utilizadas principalmente para armazenamento em memória secundária, possuindo características de árvore \textit{K-D adaptativa} e árvore \textit{B} \cite{andreas}. A estrutura da árvore \textit{K-D-B} segue o mesmo princípio de divisão de planos da árvore \textit{K-D}, ou seja, os planos são definidos utilizando-se da distribuição de elementos na região.
	Porém existe uma diferença fundamental nas árvores \textit{K-D-B}: os nós internos são apontadores e representam determinada região. Esses apontadores são chamados de \textit{páginas de regiões} e contém o endereço para o nó filho ou para uma folha.
	Os pontos são armazenados somente nas \textit{páginas de pontos} (folhas), e estas sempre estão em um mesmo nível - garantindo que a árvore \textit{K-D-B} esteja sempre balanceada \cite{comer}.

\begin{figure}[H]
\begin{center}
\includegraphics[scale=0.30]{images/kdb.jpg}
\caption{Árvore \textit{K-D-B}.} 
\end{center}
\end{figure}

\section{MySQL}
\label{mysql}

    \textit{MySQL} \cite{sunmysql} é um sistema de gerenciamento de banco de dados (SGBD), que utiliza a linguagem SQL (Linguagem de Consulta Estruturada, do inglês \textit{Structured Query Language}) como interface. É um banco de dados bastante popular, distribuído como software livre. Apresenta diversas engines de armazenamento como MyISAM, MEMORY(HEAP),InnoDB entre outras, possibilita a criação de indices com multiplas chaves(até 15 chaves) Os índices são utilizados para encontrar registros com um valor específico de uma coluna rapidamente. Sem um índice o MySQL tem de iniciar com o primeiro registro e depois ler através de toda a tabela até que ele encontre os registros relevantes. Quanto maior a tabela, maior será o custo. Se a tabela possui um índice para as colunas em questão, o MySQL pode rapidamente obter uma posição para procurar no meio do arquivo de dados sem ter que varrer todos os registros. Se uma tabela possui 1000000 registros, isto é pelo menos 100000 vezes mais rápido do que ler todos os registros sequencialmente. Note que se você precisar acessar quase todos os 1000000 registros, seria mais rápido acessá-los sequencialmente porque evitaria acessos ao disco.\cite{indicesMysql}  

